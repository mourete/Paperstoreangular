
 
<style>

    a:hover {
       color: black;
       text-decoration: underline;
       font-weight: bold;
    }
    
    a:link{
        color: black;
        text-decoration: underline;
        font-weight: bold;
    }
    
    a:active{
        color: black;
        text-decoration: underline;
        font-weight: bold;
    }
    
    a:visited{
        color: black;
        text-decoration: underline;
        font-weight: bold;
    }
    
    
    </style>
    
   
<div   *ngIf="!mostrandoInstancia" >
        <div style="font-family:Arial, Helvetica, sans-serif;margin: 20px;" >
            <h3>INSTANCIA DE DOCUMENTOS </h3>  
        </div>


        <div >
            <table  border="0"   cellpadding="1"  cellspacing="1"      >
     
  
                         
             <tr     >
                 <td>Empresa</td>
                 <td>Marca</td>
              </tr>    
            
              <tr     >
                 <td>
                    <p-dropdown    (onChange)="empresaChanged()"    [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"   [(ngModel)]="selectedEmpresa"   [options]="empresas"  optionLabel="nombre"></p-dropdown>
                 </td>
                 <td>
                   <p-dropdown    (onChange)="marcaChanged()"    [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"   [(ngModel)]="selectedMarca"   [options]="marcas"  optionLabel="nombre"></p-dropdown>
                </td>
              </tr>   
    
             </table>    
            
        </div>
    
         
    <div  style="margin-top: 30px;" >
       <div >

            <div    >
                <p-toolbar>
                    <div   *ngIf="selectedDocumentoUsuario"   class="ui-toolbar-group-left">
                    </div>                      
                </p-toolbar>
            </div>    


            <p-table #dtDocumentoUsurio      
             [value]="documentosUsuariosList"    [paginator]="true" [rows]="10"  selectionMode="single" [(selection)]="selectedDocumentoUsuario"   >
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th style="width: 100px;"  >Instancia</th>
                        <th style="width: 100px;"  >Empresa</th>
                           <th style="width: 100px;"  >MarcaId</th>
                            <th style="width: 100px;"  >Marca</th>
                            <th style="width: 100px;"  >Sucursal</th>
                             <th style="width: 120px;"  >ProyectoId</th>
                            <th style="width: 120px;"  >Proyecto</th>
                          
                            <th style="width: 120px;"  >DocumentoId</th>
                            <th style="width: 120px;"  >Documento</th>
                            <th style="width: 180px;"  >Cantidad Documento</th>
                            <th style="width: 180px;"  >Cantidad Instancia</th>
                            <th style="width: 120px;"  >Responsable</th>         
                       
                    </tr>
                    <tr>
                        <th  ></th>  
                        <th  >
                            <input style="width: 80px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'empresa' , 'contains')">
                        </th>     
                         
                       <th  >
                            <input style="width: 80px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'marcaId' , 'contains')">
                         </th>     
                         
                         <th>
                            <input  style="width: 80px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'marca' , 'contains')">
                         </th>

                         <th>
                            <input  style="width: 80px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'sucursal' , 'contains')">
                         </th>
                         <th  >
                            <input style="width: 100px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'proyectoId' , 'contains')">
                         </th> 
                         <th  >
                            <input style="width: 100px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'proyecto' , 'contains')">
                         </th> 
                         
                         <th  >
                            <input style="width: 100px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'documentoId' , 'contains')">
                         </th>   
                         <th  >
                            <input style="width: 100px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'documento' , 'contains')">
                         </th>   
                        
                         <th  >
                            <input style="width: 160px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'cantidadDocumento' , 'contains')">
                         </th>
                         <th  >
                            <input style="width: 160px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'cantidadInstancia' , 'contains')">
                         </th>
                         <th  >
                            <input style="width: 100px;"  pInputText type="text" (input)="dtDocumentoUsurio.filter($event.target.value, 'responsable' , 'contains')">
                         </th>
                                                

                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-documentoUsuarioList>
                    <tr  [pSelectableRow]="selectedDocumentoUsuario" >
                        <td>
                        <a   [routerLink]="[]" (click)="mostrarInstancia(documentoUsuarioList.documentoId,documentoUsuarioList.proyectoId,documentoUsuarioList.regionId
                        , documentoUsuarioList.sucursalId, usuarioOID ,documentoUsuarioList.documento ,
                        documentoUsuarioList.sucursal, documentoUsuarioList.region , documentoUsuarioList.cantidadDocumento ,
                        documentoUsuarioList.cantidadInstancia,  documentoUsuarioList.marca, documentoUsuarioList.empresa , documentoUsuarioList.proyecto                       
                        )" >
                             {{documentoUsuarioList.documento}}</a>
                        </td>                                                                
                        <td>{{documentoUsuarioList.empresa}}</td>    
                        <td>{{documentoUsuarioList.marcaId}}</td>  
                        <td>{{documentoUsuarioList.marca}}</td>     
                        <td>{{documentoUsuarioList.sucursal}}</td> 
                        <td>{{documentoUsuarioList.proyectoId}}</td>     
                        <td>{{documentoUsuarioList.proyecto}}</td>
                        <td>{{documentoUsuarioList.documentoId}}</td> 
                        <td>{{documentoUsuarioList.documento}}</td>
                        <td>{{documentoUsuarioList.cantidadDocumento}}</td> 
                        <td>{{documentoUsuarioList.cantidadInstancia}}</td> 
                        <td>{{documentoUsuarioList.responsable}}</td>

                        
                    </tr>
                </ng-template>

            

            </p-table>
        
        </div> 


     



        
    </div>

   
   
</div>



<div  *ngIf="mostrandoInstancia"   >

    <!-- <a   style="font-size:1.1em;margin-bottom:10px;    color: #007ad9;
    text-decoration: none; font-weight: 400;"  id="quitar"  [routerLink]="" (click)="backToDocumentList()" >Regresar a documentos</a>-->


    <app-list-documento-instancias

    [varDocumentoId]="currDocumentoId"
    [varProyectoId]="currProyectoId"
    [varProyecto]="currProyecto"
    [varRegionId]="currRegionId" 
    [varSucursalId]="currSucursalId"
    [varUsuarioOID]="currUsuarioOID"
    [varDocumento]="currDocumento"
    [varSucursal]="currSucursal"
    [varRegion]="currRegion"
    [varNumDocumentos]="currNumDocumentos"
    [varNumInstancias]="currNumInstancias"
    [varEmpresa] = "currEmpresa"
    [varMarca] = "currMarca"

    ></app-list-documento-instancias>

</div>



<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>





