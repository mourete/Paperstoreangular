<p-messages [value]="msgs" [escape]="true"></p-messages>


  <form
    [formGroup]="profilePerfil"
    (ngSubmit)="onSubmit()"
    class="box-model form-support-margin"
  >
    <div *ngIf="perfil">
    <table border="0" cellpadding="1" cellspacing="1">

      <tr>
        <td>Clave</td>
        <td>

          <input
            #claveInput
            type="text"
            pInputText
            size="25"
            formControlName="clave"
            (input)="convertirAMayusculas()"
            mask="AAAAAAAAAA"
            [style]="{ width: '30rem' }"
            required
            [showMaskTyped]="true"
          />
          <div *ngIf="clave.errors?.required">Clave es requerida</div>
          <div *ngIf="clave.errors?.maxLength || clave.errors?.minLength">La clave debe tener 10 caracteres</div>

        </td>
      </tr>

      <tr>
        <td>Perfil </td>
        <td>
          <input
            type="text"
            pInputText
            [style]="{ width: '30rem' }"
            formControlName="nombre"
          />
        </td>
      </tr>

      <tr>
        <td>Descripción </td>

        <td>
          <input
            type="text"
            pInputText
            formControlName="descripcion"
            [style]="{ width: '30rem' }"
            pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s.,]+"
          />

        </td>
      </tr>

      <tr>
        <td>No editable</td>
        <td>
          <p-inputSwitch
            formControlName="noEditable"
          ></p-inputSwitch>
        </td>
      </tr>

      <tr>
      <td>Read Only</td>
      <td>
        <p-inputSwitch
          formControlName="readOnly"
        ></p-inputSwitch>
      </td>
      </tr>

      <tr>
        <td>Acceso Movil</td>
        <td>
          <p-inputSwitch
            formControlName="accesoMovil"
          ></p-inputSwitch>
        </td>
      </tr>

      <tr>
        <td>Activo</td>
        <td>
          <p-inputSwitch
            formControlName="activo"
          ></p-inputSwitch>
        </td>
      </tr>

      <tr>
        <td>Modulos </td>
        <td>
          <p-tree
            [value]="accesosModulos"
            selectionMode="checkbox"
            [style]="{ width: '30rem' }"
            [(selection)]="accesosModuloSeleccionados"
            (onNodeSelect)="nodeSelect($event)"
            (onNodeUnselect)="nodeUnselect($event)"
          ></p-tree>
        </td>
      </tr>
    </table>
    </div>
  </form>


<div style="padding: 20px">
  <button
    pButton
    style="margin: 3px"
    icon="pi pi-check"
    type="button"
    label="Guardar"
    (click)="guardarPerfil()"
  ></button>

  <button
    pButton
    style="margin: 3px"
    icon="pi pi-times"
    type="button"
    label="Cancelar"
    (click)="cancelar()"
  ></button>
</div>
