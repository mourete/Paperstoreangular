<p-messages [value]="msgs" [escape]="true"></p-messages>

<div *ngIf="listVerPerfil">
    <form
            [formGroup]="profileListVerPerfil"
            (ngSubmit)="onSubmit()"
            class="box-model form-support-margin"
    >
        <table border="0" cellpadding="1" cellspacing="1">
            <tr>
                <td>Usuario</td>
                <td>
                    <input
                            type="text"
                            pInputText
                            [style]="{ width: '30rem' }"
                            formControlName="userName"
                            (input)="listVerPerfil.userName = listVerPerfil.userName.toUpperCase()"
                            [value]="listVerPerfil.userName"
                            [(ngModel)]="listVerPerfil.userName"

                    />
                  </td>
            </tr>

            <tr>
                <td>Nombre</td>

                <td>
                    <input
                            type="text"
                            pInputText
                            formControlName="nombre"
                            [style]="{ width: '30rem' }"
                            [(ngModel)]="listVerPerfil.nombre"
                            pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s.,]+"
                    />

                </td>
            </tr>

            <tr style="padding: 15px">
                <td>Contraseña:</td>
                <td>
                    <input
                            type="password"
                            pInputText
                            [style]="{ width: '30rem' }"
                            formControlName="pass"
                            [(ngModel)]="listVerPerfil.pass"
                    />
                </td>
            </tr>

            <tr>
                <td>Correo electrónico</td>
                <td>
                    <input
                            type="text"
                            [style]="{ width: '30rem' }"
                            pInputText
                            formControlName="mail"
                            [(ngModel)]="listVerPerfil.mail"
                            pattern="^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$"
                            required
                    />
                </td>
            </tr>

            <tr>
                <td>Dirección</td>
                <td>
          <textarea
                  pInputTextarea
                  [style]="{ width: '30rem' }"
                  [rows]="2"
                  [cols]="35"
                  formControlName="direccion"
                  [(ngModel)]="listVerPerfil.direccion"
          ></textarea>
                </td>
            </tr>

            <tr>
                <td>Teléfono</td>
                <td>
                    <input
                            type="text"
                            pInputText
                            [style]="{ width: '30rem' }"
                            formControlName="telefono"
                            [(ngModel)]="listVerPerfil.telefono"
                    />
                </td>
            </tr>

            <tr>
                <td>Puesto</td>
                <td>
                    <p-dropdown
                            [style]="{ width: '30rem' }"
                            (onChange)="puestoChanged()"
                            formControlName="selectedPuesto"
                            [showTransitionOptions]="'0ms'"
                            [hideTransitionOptions]="'0ms'"
                            [(ngModel)]="selectedPuesto"
                            [options]="puestos"
                            optionLabel="nombre"
                    ></p-dropdown>
                </td>
            </tr>

            <tr slot="height:10px;">
                <td colspan="2">&nbsp;</td>
            </tr>

            <tr>
                <td>Perfiles</td>
                <td>
                    <p-listbox
                            [options]="usuarioPerfiles"
                            [(ngModel)]="usuarioPerfilSeleccionado"
                            [metaKeySelection]="false"
                            [checkbox]="true"
                            [multiple]="true"
                            [required]="true"
                            [filter]="true"
                            formControlName="flag_seleccionado"
                            [listStyle]="{ 'max-height': '250px' }"
                            [style]="{ width: '30rem' }"
                            optionLabel="nombre"
                    >
                    </p-listbox>
                </td>
            </tr>

            <tr slot="height:10px;">
                <td colspan="2">&nbsp;</td>
            </tr>

            <tr>
                <td>Puestos</td>
                <td>
                    <p-tree
                            [value]="accesos"
                            min="1"
                            formControlName="flag_puesto"
                            selectionMode="checkbox"
                            [style]="{ width: '30rem' }"
                            [(selection)]="accesosSeleccionados"
                            (onNodeSelect)="nodeSelect($event)"
                            (onNodeUnselect)="nodeUnselect($event)"
                    ></p-tree>
                </td>
            </tr>
        </table>
    </form>
</div>
<div style="padding: 20px">

    <button
            pButton
            style="margin: 3px"
            icon="pi pi-times"
            type="button"
            label="Cerrar"
            (click)="cerrar()"
    ></button>
</div>
